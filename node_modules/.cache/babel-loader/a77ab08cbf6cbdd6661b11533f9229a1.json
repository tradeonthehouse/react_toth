{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { unstable_useId as useId } from '@material-ui/utils';\nimport { styled, useThemeProps } from '@material-ui/core/styles';\nimport { unstable_composeClasses as composeClasses, generateUtilityClass, generateUtilityClasses } from '@material-ui/unstyled';\nimport Clock from './Clock';\nimport { pipe } from '../internal/pickers/utils';\nimport { useUtils, useNow } from '../internal/pickers/hooks/useUtils';\nimport { getHourNumbers, getMinutesNumbers } from './ClockNumbers';\nimport PickersArrowSwitcher from '../internal/pickers/PickersArrowSwitcher';\nimport { convertValueToMeridiem, createIsAfterIgnoreDatePart } from '../internal/pickers/time-utils';\nimport { useMeridiemMode } from '../internal/pickers/hooks/date-helpers-hooks';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function getClockPickerUtilityClass(slot) {\n  return generateUtilityClass('MuiClockPicker', slot);\n}\nexport const clockPickerClasses = generateUtilityClasses('MuiClockPicker', ['arrowSwitcher']);\nconst useUtilityClasses = styleProps => {\n  const {\n    classes\n  } = styleProps;\n  const slots = {\n    arrowSwitcher: ['arrowSwitcher']\n  };\n  return composeClasses(slots, getClockPickerUtilityClass, classes);\n};\nconst ClockPickerArrowSwitcher = styled(PickersArrowSwitcher, {\n  name: 'MuiClockPicker',\n  slot: 'ArrowSwticher',\n  overridesResolver: (props, styles) => styles.arrowSwitcher\n})({\n  position: 'absolute',\n  right: 12,\n  top: 15\n});\nconst defaultGetClockLabelText = (view, time, adapter) => `Select ${view}. ${time === null ? 'No time selected' : `Selected time is ${adapter.format(time, 'fullTime')}`}`;\nconst defaultGetMinutesClockNumberText = minutes => `${minutes} minutes`;\nconst defaultGetHoursClockNumberText = hours => `${hours} hours`;\nconst defaultGetSecondsClockNumberText = seconds => `${seconds} seconds`;\n/**\r\n *\r\n * API:\r\n *\r\n * - [ClockPicker API](https://material-ui.com/api/clock-picker/)\r\n */\n\nfunction ClockPicker(inProps) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiClockPicker'\n  });\n  const {\n    ampm = false,\n    ampmInClock = false,\n    autoFocus,\n    components,\n    componentsProps,\n    date,\n    disableIgnoringDatePartForTimeValidation = false,\n    getClockLabelText = defaultGetClockLabelText,\n    getHoursClockNumberText = defaultGetHoursClockNumberText,\n    getMinutesClockNumberText = defaultGetMinutesClockNumberText,\n    getSecondsClockNumberText = defaultGetSecondsClockNumberText,\n    leftArrowButtonText = 'open previous view',\n    maxTime,\n    minTime,\n    minutesStep = 1,\n    nextViewAvailable,\n    onChange,\n    openNextView,\n    openPreviousView,\n    previousViewAvailable,\n    rightArrowButtonText = 'open next view',\n    shouldDisableTime,\n    showViewSwitcher,\n    view\n  } = props;\n  const now = useNow();\n  const utils = useUtils();\n  const dateOrNow = date || now;\n  const {\n    meridiemMode,\n    handleMeridiemChange\n  } = useMeridiemMode(dateOrNow, ampm, onChange);\n  const isTimeDisabled = React.useCallback((rawValue, viewType) => {\n    if (date === null) {\n      return false;\n    }\n    const validateTimeValue = getRequestedTimePoint => {\n      const isAfterComparingFn = createIsAfterIgnoreDatePart(disableIgnoringDatePartForTimeValidation, utils);\n      return Boolean(minTime && isAfterComparingFn(minTime, getRequestedTimePoint('end')) || maxTime && isAfterComparingFn(getRequestedTimePoint('start'), maxTime) || shouldDisableTime && shouldDisableTime(rawValue, viewType));\n    };\n    switch (viewType) {\n      case 'hours':\n        {\n          const hoursWithMeridiem = convertValueToMeridiem(rawValue, meridiemMode, ampm);\n          return validateTimeValue(when => pipe(currentDate => utils.setHours(currentDate, hoursWithMeridiem), dateWithHours => utils.setMinutes(dateWithHours, when === 'start' ? 0 : 59), dateWithMinutes => utils.setSeconds(dateWithMinutes, when === 'start' ? 0 : 59))(date));\n        }\n      case 'minutes':\n        return validateTimeValue(when => pipe(currentDate => utils.setMinutes(currentDate, rawValue), dateWithMinutes => utils.setSeconds(dateWithMinutes, when === 'start' ? 0 : 59))(date));\n      case 'seconds':\n        return validateTimeValue(() => utils.setSeconds(date, rawValue));\n      default:\n        throw new Error('not supported');\n    }\n  }, [ampm, date, disableIgnoringDatePartForTimeValidation, maxTime, meridiemMode, minTime, shouldDisableTime, utils]);\n  const selectedId = useId();\n  const viewProps = React.useMemo(() => {\n    switch (view) {\n      case 'hours':\n        {\n          const handleHoursChange = (value, isFinish) => {\n            const valueWithMeridiem = convertValueToMeridiem(value, meridiemMode, ampm);\n            onChange(utils.setHours(dateOrNow, valueWithMeridiem), isFinish);\n          };\n          return {\n            onChange: handleHoursChange,\n            value: utils.getHours(dateOrNow),\n            children: getHourNumbers({\n              date,\n              utils,\n              ampm,\n              onChange: handleHoursChange,\n              getClockNumberText: getHoursClockNumberText,\n              isDisabled: value => isTimeDisabled(value, 'hours'),\n              selectedId\n            })\n          };\n        }\n      case 'minutes':\n        {\n          const minutesValue = utils.getMinutes(dateOrNow);\n          const handleMinutesChange = (value, isFinish) => {\n            onChange(utils.setMinutes(dateOrNow, value), isFinish);\n          };\n          return {\n            value: minutesValue,\n            onChange: handleMinutesChange,\n            children: getMinutesNumbers({\n              utils,\n              value: minutesValue,\n              onChange: handleMinutesChange,\n              getClockNumberText: getMinutesClockNumberText,\n              isDisabled: value => isTimeDisabled(value, 'minutes'),\n              selectedId\n            })\n          };\n        }\n      case 'seconds':\n        {\n          const secondsValue = utils.getSeconds(dateOrNow);\n          const handleSecondsChange = (value, isFinish) => {\n            onChange(utils.setSeconds(dateOrNow, value), isFinish);\n          };\n          return {\n            value: secondsValue,\n            onChange: handleSecondsChange,\n            children: getMinutesNumbers({\n              utils,\n              value: secondsValue,\n              onChange: handleSecondsChange,\n              getClockNumberText: getSecondsClockNumberText,\n              isDisabled: value => isTimeDisabled(value, 'seconds'),\n              selectedId\n            })\n          };\n        }\n      default:\n        throw new Error('You must provide the type for ClockView');\n    }\n  }, [view, utils, date, ampm, getHoursClockNumberText, getMinutesClockNumberText, getSecondsClockNumberText, meridiemMode, onChange, dateOrNow, isTimeDisabled, selectedId]);\n  const styleProps = props;\n  const classes = useUtilityClasses(styleProps);\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [showViewSwitcher && /*#__PURE__*/_jsx(ClockPickerArrowSwitcher, {\n      className: classes.arrowSwitcher,\n      leftArrowButtonText: leftArrowButtonText,\n      rightArrowButtonText: rightArrowButtonText,\n      components: components,\n      componentsProps: componentsProps,\n      onLeftClick: openPreviousView,\n      onRightClick: openNextView,\n      isLeftDisabled: previousViewAvailable,\n      isRightDisabled: nextViewAvailable,\n      styleProps: styleProps\n    }), /*#__PURE__*/_jsx(Clock, _extends({\n      autoFocus: autoFocus,\n      date: date,\n      ampmInClock: ampmInClock,\n      type: view,\n      ampm: ampm,\n      getClockLabelText: getClockLabelText,\n      minutesStep: minutesStep,\n      isTimeDisabled: isTimeDisabled,\n      meridiemMode: meridiemMode,\n      handleMeridiemChange: handleMeridiemChange,\n      selectedId: selectedId\n    }, viewProps))]\n  });\n}\nprocess.env.NODE_ENV !== \"production\" ? ClockPicker.propTypes\n/* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit TypeScript types and run \"yarn proptypes\"  |\n  // ----------------------------------------------------------------------\n\n  /**\r\n   * 12h/24h view for hour selection clock.\r\n   * @default false\r\n   */\n  ampm: PropTypes.bool,\n  /**\r\n   * Display ampm controls under the clock (instead of in the toolbar).\r\n   * @default false\r\n   */\n  ampmInClock: PropTypes.bool,\n  /**\r\n   * Set to `true` if focus should be moved to clock picker.\r\n   */\n  autoFocus: PropTypes.bool,\n  /**\r\n   * Override or extend the styles applied to the component.\r\n   */\n  classes: PropTypes.object,\n  /**\r\n   * The components used for each slot.\r\n   * Either a string to use a HTML element or a component.\r\n   */\n  components: PropTypes.shape({\n    LeftArrowButton: PropTypes.elementType,\n    LeftArrowIcon: PropTypes.elementType,\n    RightArrowButton: PropTypes.elementType,\n    RightArrowIcon: PropTypes.elementType\n  }),\n  /**\r\n   * The props used for each slot inside.\r\n   */\n  componentsProps: PropTypes.object,\n  /**\r\n   * Selected date @DateIOType.\r\n   */\n  date: PropTypes.any,\n  /**\r\n   * Do not ignore date part when validating min/max time.\r\n   * @default false\r\n   */\n  disableIgnoringDatePartForTimeValidation: PropTypes.bool,\n  /**\r\n   * Accessible text that helps user to understand which time and view is selected.\r\n   * @default <TDate extends any>(\r\n   *   view: ClockView,\r\n   *   time: TDate | null,\r\n   *   adapter: MuiPickersAdapter<TDate>,\r\n   * ) =>\r\n   *   `Select ${view}. ${\r\n   *     time === null ? 'No time selected' : `Selected time is ${adapter.format(time, 'fullTime')}`\r\n   *   }`\r\n   */\n  getClockLabelText: PropTypes.func,\n  /**\r\n   * Get clock number aria-text for hours.\r\n   * @default (hours: string) => `${hours} hours`\r\n   */\n  getHoursClockNumberText: PropTypes.func,\n  /**\r\n   * Get clock number aria-text for minutes.\r\n   * @default (minutes: string) => `${minutes} minutes`\r\n   */\n  getMinutesClockNumberText: PropTypes.func,\n  /**\r\n   * Get clock number aria-text for seconds.\r\n   * @default (seconds: string) => `${seconds} seconds`\r\n   */\n  getSecondsClockNumberText: PropTypes.func,\n  /**\r\n   * Left arrow icon aria-label text.\r\n   * @default 'open previous view'\r\n   */\n  leftArrowButtonText: PropTypes.string,\n  /**\r\n   * Max time acceptable time.\r\n   * For input validation date part of passed object will be ignored if `disableIgnoringDatePartForTimeValidation` not specified.\r\n   */\n  maxTime: PropTypes.any,\n  /**\r\n   * Min time acceptable time.\r\n   * For input validation date part of passed object will be ignored if `disableIgnoringDatePartForTimeValidation` not specified.\r\n   */\n  minTime: PropTypes.any,\n  /**\r\n   * Step over minutes.\r\n   * @default 1\r\n   */\n  minutesStep: PropTypes.number,\n  /**\r\n   * @ignore\r\n   */\n  nextViewAvailable: PropTypes.bool.isRequired,\n  /**\r\n   * On change callback @DateIOType.\r\n   */\n  onChange: PropTypes.func.isRequired,\n  /**\r\n   * @ignore\r\n   */\n  openNextView: PropTypes.func.isRequired,\n  /**\r\n   * @ignore\r\n   */\n  openPreviousView: PropTypes.func.isRequired,\n  /**\r\n   * @ignore\r\n   */\n  previousViewAvailable: PropTypes.bool.isRequired,\n  /**\r\n   * Right arrow icon aria-label text.\r\n   * @default 'open next view'\r\n   */\n  rightArrowButtonText: PropTypes.string,\n  /**\r\n   * Dynamically check if time is disabled or not.\r\n   * If returns `false` appropriate time point will ot be acceptable.\r\n   */\n  shouldDisableTime: PropTypes.func,\n  /**\r\n   * @ignore\r\n   */\n  showViewSwitcher: PropTypes.bool,\n  /**\r\n   * @ignore\r\n   */\n  view: PropTypes.oneOf(['hours', 'minutes', 'seconds']).isRequired\n} : void 0;\n/**\r\n *\r\n * Demos:\r\n *\r\n * - [Time Picker](https://material-ui.com/components/time-picker/)\r\n *\r\n * API:\r\n *\r\n * - [ClockPicker API](https://material-ui.com/api/clock-picker/)\r\n */\n\nexport default ClockPicker;","map":null,"metadata":{},"sourceType":"module"}